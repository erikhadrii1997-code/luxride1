<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Luxride - Go Anywhere</title>
    <meta name="description" content="Luxride - Premium transportation services with luxury vehicles and professional drivers. Book your ride today for comfort, safety, and reliability.">
    <meta name="keywords" content="luxury taxi, premium transportation, ride booking, luxury cars, professional drivers">
    <meta name="author" content="Luxride Technologies">
    <meta property="og:title" content="Luxride - Go Anywhere">
    <meta property="og:description" content="Premium transportation services with luxury vehicles and professional drivers.">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Luxride - Go Anywhere">
    <meta name="twitter:description" content="Premium transportation services with luxury vehicles and professional drivers.">
    
    <!-- Preconnect to external domains for better performance -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://cdn.motor1.com">
    <link rel="preconnect" href="https://images.pexels.com">
    
    <!-- Load critical CSS first -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Font fallbacks to prevent rendering issues */
        body, * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        .font-serif, h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa, #e4e7eb);
            color: #333333;
            overscroll-behavior: none;
            overflow-x: hidden;
            padding-top: 70px; /* Account for fixed navbar */
        }
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: transparent;
        }

        .map-container {
            width: 350px;
            height: 350px;
            border-radius: 50%;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.15), 0 12px 48px rgba(0, 0, 0, 0.25), inset 0 0 20px rgba(212, 175, 55, 0.2);
            margin: 10px auto;
            z-index: 1;
            position: relative;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 3px solid #d4af37;
            animation: mapFadeIn 0.8s ease-out;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .map-container:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.2), 0 16px 56px rgba(0, 0, 0, 0.3), inset 0 0 30px rgba(212, 175, 55, 0.3);
        }

        /* Enhanced Map Container with Decorative Elements */
        .map-wrapper {
            position: relative;
            margin: 20px auto;
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .map-frame {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(184, 151, 46, 0.1));
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.3), inset 0 0 20px rgba(212, 175, 55, 0.1);
            z-index: 0;
            animation: framePulse 4s infinite alternate;
        }

        .map-ornament {
            position: absolute;
            width: 420px;
            height: 420px;
            border-radius: 50%;
            border: 2px dashed rgba(212, 175, 55, 0.3);
            z-index: -1;
            animation: rotate 30s linear infinite;
        }

        .map-ornament:before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: #d4af37;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.7);
        }

        .map-ornament:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: #d4af37;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.7);
        }

        .map-decoration {
            position: absolute;
            width: 440px;
            height: 440px;
            border-radius: 50%;
            border: 1px solid rgba(212, 175, 55, 0.2);
            z-index: -2;
        }

        .map-glow {
            position: absolute;
            width: 380px;
            height: 380px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0) 70%);
            z-index: 0;
            animation: glowPulse 3s infinite alternate;
        }

        .map-compass {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
            border: 2px solid #d4af37;
        }

        .map-compass i {
            color: #d4af37;
            font-size: 24px;
        }

        .map-label {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
            border: 1px solid #d4af37;
        }

        @keyframes mapFadeIn {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes framePulse {
            0% { box-shadow: 0 0 30px rgba(212, 175, 55, 0.2), inset 0 0 10px rgba(212, 175, 55, 0.1); }
            100% { box-shadow: 0 0 60px rgba(212, 175, 55, 0.4), inset 0 0 20px rgba(212, 175, 55, 0.2); }
        }

        @keyframes glowPulse {
            0% { opacity: 0.5; }
            100% { opacity: 0.8; }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .leaflet-container {
            border-radius: 50% !important;
            background: transparent !important;
        }

        .leaflet-tile {
            filter: brightness(1.05) contrast(1.1);
        }

        .leaflet-marker-icon.custom-marker {
            background: url('https://cdn-icons-png.flaticon.com/512/684/684908.png') no-repeat center;
            background-size: contain;
            width: 36px !important;
            height: 36px !important;
            border: 2px solid #d4af37;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .leaflet-control-zoom a {
            background: linear-gradient(135deg, #d4af37, #b8972e) !important;
            color: #ffffff !important;
            border-radius: 8px !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
            transition: transform 0.3s ease, background 0.3s ease !important;
        }

        .leaflet-control-zoom a:hover {
            transform: translateY(-2px) !important;
            background: linear-gradient(135deg, #e6c14b, #d4af37) !important;
        }

        .leaflet-container a {
            color: #d4af37 !important;
        }

        .image-container {
            padding: 8px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.2);
            margin: 10px auto;
            width: calc(100% - 20px);
            max-width: 600px;
            height: 200px;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .carousel {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }

        .carousel-item {
            flex: 0 0 100%;
            width: 100%;
            height: 100%;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .carousel-item img:hover {
            transform: scale(1.05);
        }

        .carousel-controls {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
        }

        .carousel-btn {
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .carousel-btn:hover {
            background: rgba(212, 175, 55, 0.8);
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            width: 100%;
            text-align: center;
        }

        .carousel-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .carousel-dot.active {
            background: #d4af37;
        }

        .driver-image-container {
            padding: 8px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.2);
            margin: 10px auto;
            width: calc(100% - 20px);
            max-width: 150px;
            height: 150px;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .driver-image-container img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .driver-image-container img:hover {
            transform: scale(1.05);
        }

        .hero-section {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.3), transparent);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            width: 100%;
            padding: 10px;
            max-width: 700px;
        }

        .btn-primary {
            background: linear-gradient(90deg, #d4af37, #b8972e);
            transition: all 0.4s ease;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            letter-spacing: 0.5px;
            color: #ffffff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            background: linear-gradient(90deg, #e6c14b, #d4af37);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(90deg, #4b5563, #6b7280);
            transition: all 0.4s ease;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            color: #ffffff;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            background: linear-gradient(90deg, #6b7280, #9ca3af);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .btn-danger {
            background: linear-gradient(90deg, #dc2626, #b91c1c);
            transition: all 0.4s ease;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            color: #ffffff;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            background: linear-gradient(90deg, #ef4444, #dc2626);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .nav-link {
            position: relative;
            transition: color 0.3s ease, background-color 0.3s ease;
        }

        .nav-link:hover {
            color: #d4af37;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: #d4af37;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .input-field {
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #333333;
            border-radius: 12px;
            padding: 14px 16px;
        }

        .input-field:focus {
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3), 0 0 20px rgba(0, 0, 0, 0.1);
            border-color: #d4af37;
        }

        .section-gradient {
            background: linear-gradient(to right, #f5f7fa, #e4e7eb);
        }

        .form-container {
            width: calc(100% - 20px);
            max-width: 600px;
            margin: 10px auto;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #333333;
            border-radius: 16px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .geo-permission-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease-out;
        }

        .geo-permission-modal.hidden {
            display: none;
        }

        .geo-modal-content {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            max-width: 90%;
            width: 320px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            animation: slideUp 0.4s ease-out forwards;
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #333333;
        }

        .geo-modal-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #d4af37, #b8972e);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: #ffffff;
            font-size: 32px;
        }

        .geo-modal-title {
            font-size: 24px;
            font-weight: 700;
            color: #333333;
            margin-bottom: 12px;
            font-family: 'Playfair Display', serif;
        }

        .geo-modal-description {
            color: #666666;
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .geo-modal-buttons {
            display: flex;
            gap: 12px;
            flex-direction: column;
        }

        .geo-btn {
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .geo-btn-allow {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: #ffffff;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .geo-btn-allow:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .geo-btn-deny {
            background: transparent;
            color: #666666;
            border: 2px solid rgba(0, 0, 0, 0.2);
        }

        .geo-btn-deny:hover {
            background: rgba(255, 255, 255, 0.9);
            color: #d4af37;
            border-color: #d4af37;
        }

        .vehicle-selection {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .vehicle-selection::before {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            height: 4px;
            background: linear-gradient(90deg, #d4af37, #b8972e);
            border-radius: 16px 16px 0 0;
            z-index: 1;
        }

        .vehicle-selection-title {
            font-size: 18px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 16px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            z-index: 2;
            font-family: 'Playfair Display', serif;
        }

        .vehicle-selection-subtitle {
            font-size: 12px;
            color: #666666;
            text-align: center;
            margin-bottom: 12px;
            font-weight: 400;
        }

        .vehicle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .vehicle-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            color: #333333;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .vehicle-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 12px 40px rgba(0, 0, 0, 0.3);
            border-color: #d4af37;
        }

        .vehicle-card.selected {
            border-color: #d4af37;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(184, 151, 46, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .vehicle-card.selected::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #d4af37, #b8972e);
            z-index: 1;
        }

        .vehicle-card.selected::after {
            content: 'âœ“';
            position: absolute;
            top: 8px;
            right: 8px;
            width: 24px;
            height: 24px;
            background: #d4af37;
            color: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .vehicle-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 12px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .vehicle-standard .vehicle-icon {
            background: linear-gradient(135deg, #10b981, #059669);
            color: #ffffff;
        }

        .vehicle-premium .vehicle-icon {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: #ffffff;
        }

        .vehicle-suv .vehicle-icon {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #ffffff;
        }

        .vehicle-xl .vehicle-icon {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #ffffff;
        }

        .vehicle-card.selected .vehicle-icon {
            transform: scale(1.1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }

        .vehicle-name {
            font-weight: 600;
            color: #333333;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .vehicle-price {
            font-size: 12px;
            color: #666666;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .vehicle-capacity {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            font-size: 11px;
            color: #666666;
            margin-bottom: 8px;
        }

        .vehicle-time {
            font-size: 11px;
            color: #d4af37;
            font-weight: 600;
            background: rgba(212, 175, 55, 0.1);
            padding: 2px 8px;
            border-radius: 6px;
            display: inline-block;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .vehicle-selection-info {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 16px;
            margin-top: 12px;
            border-left: 4px solid #d4af37;
            display: none;
            border: 1px solid rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .vehicle-selection-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #d4af37, #b8972e);
        }

        .vehicle-selection-info.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        .vehicle-info-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .vehicle-info-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #d4af37, #b8972e);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            font-size: 16px;
            flex-shrink: 0;
        }

        .vehicle-info-content h4 {
            font-weight: 600;
            color: #333333;
            margin-bottom: 4px;
            font-size: 16px;
            font-family: 'Playfair Display', serif;
        }

        .vehicle-info-content p {
            color: #666666;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .vehicle-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 8px;
            margin-top: 12px;
        }

        .vehicle-detail-item {
            text-align: center;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .vehicle-detail-item i {
            color: #d4af37;
            font-size: 14px;
            margin-bottom: 4px;
            display: block;
        }

        .vehicle-detail-item span {
            font-size: 11px;
            color: #333333;
            font-weight: 500;
            display: block;
        }

        .vehicle-change-btn {
            background: transparent;
            color: #d4af37;
            border: 1px solid #d4af37;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 8px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .vehicle-change-btn:hover {
            background: #d4af37;
            color: #ffffff;
            transform: translateY(-1px);
        }

        .selection-required {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(184, 151, 46, 0.2));
            border: 2px solid #d4af37;
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
            text-align: center;
            animation: pulse 2s infinite;
        }

        .selection-required i {
            color: #d4af37;
            font-size: 20px;
            margin-right: 8px;
        }

        /* New Solid Background Navbar Styles */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: #ffffff;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-bottom: 3px solid #d4af37;
        }

        .navbar-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 70px;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #d4af37, #b8972e);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .brand-text {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            font-family: 'Playfair Display', serif;
        }

        .desktop-nav {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            border-radius: 10px;
            text-decoration: none;
            color: #333333;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #d4af37, #b8972e);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .nav-item:hover::before {
            left: 0;
        }

        .nav-item:hover {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: white;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .nav-item.logout {
            background: #ef4444;
            color: white;
        }

        .nav-item.logout:hover {
            background: #dc2626;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .mobile-toggle {
            display: none;
            flex-direction: column;
            gap: 4px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .mobile-toggle:hover {
            background: rgba(212, 175, 55, 0.1);
        }

        .hamburger-line {
            width: 25px;
            height: 3px;
            background: #333333;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            right: -100%;
            width: 320px;
            height: 100vh;
            background: #ffffff;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
            transition: right 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }

        .mobile-nav.active {
            right: 0;
        }

        .mobile-nav-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            background: linear-gradient(135deg, #d4af37, #b8972e);
        }

        .mobile-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .mobile-brand .brand-logo {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .mobile-brand .brand-text {
            color: white;
            font-size: 20px;
        }

        .mobile-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background 0.3s ease;
        }

        .mobile-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .mobile-nav-content {
            padding: 20px;
        }

        .mobile-nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            margin-bottom: 8px;
            border-radius: 12px;
            text-decoration: none;
            color: #333333;
            font-weight: 500;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .mobile-nav-item:hover {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: white;
            transform: translateX(8px);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .mobile-nav-item.active {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: white;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .mobile-nav-item.logout {
            background: #ef4444;
            color: white;
        }

        .mobile-nav-item.logout:hover {
            background: #dc2626;
            transform: translateX(8px);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .mobile-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .desktop-nav {
                display: none;
            }

            .mobile-toggle {
                display: flex;
            }

            .navbar-container {
                padding: 0 16px;
                height: 60px;
            }

            .brand-text {
                font-size: 20px;
            }

            .brand-logo {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .mobile-nav {
                width: 100%;
            }

            .navbar-container {
                padding: 0 12px;
            }
        }

        footer {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.95), #f5f7fa);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        footer a {
            color: #666666;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #d4af37;
        }

        #schedule-modal .bg-white {
            background: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #333333 !important;
            border-radius: 16px;
        }

        .pickup-option {
            border-color: rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.9);
            color: #333333;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .pickup-option:hover {
            background: rgba(255, 255, 255, 0.9);
            color: #ffffff;
            border-color: #d4af37;
        }

        .pickup-option.selected {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: #ffffff;
            border-color: #d4af37;
        }

        .ride-notification {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: #ffffff;
            padding: 16px;
            border-radius: 12px;
            margin: 12px 0;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 25px rgba(0, 0, 0, 0.2);
            border-left: 4px solid #d4af37;
            animation: slideInUp 0.4s ease-out;
        }

        .ride-notification .vehicle-highlight {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 12px;
            border-radius: 8px;
            margin: 8px 0;
            display: inline-block;
            font-weight: 600;
        }

        .ride-notification .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 6px 0;
            font-size: 14px;
        }

        .ride-notification .detail-label {
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .ride-notification .detail-value {
            color: #ffffff;
            font-weight: 600;
        }

        .inbox-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: #ffffff;
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 25px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(350px);
            transition: transform 0.4s ease-out;
            max-width: 320px;
            border-left: 4px solid #d4af37;
        }

        .inbox-notification.show {
            transform: translateX(0);
        }

        .inbox-notification .notification-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .inbox-notification .notification-title {
            font-size: 16px;
            font-weight: 600;
            margin: 0;
            font-family: 'Playfair Display', serif;
        }

        .inbox-notification .notification-time {
            font-size: 12px;
            opacity: 0.8;
        }

        .inbox-notification .notification-message {
            font-size: 14px;
            margin: 8px 0;
            line-height: 1.4;
        }

        .inbox-notification .notification-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .inbox-notification .action-btn {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }

        .inbox-notification .btn-view {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        .inbox-notification .btn-view:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        .inbox-notification .btn-dismiss {
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
        }

        .inbox-notification .btn-dismiss:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        .location-toast, .error-toast {
            background: linear-gradient(135deg, #d4af37, #b8972e);
            color: #ffffff;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 8px 25px rgba(0, 0, 0, 0.2);
            border-left: 4px solid #d4af37;
        }

        /* Enhanced Live Driver Tracking Styles */
        .live-driver-tracking {
            margin-top: 16px;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(240, 240, 240, 0.9));
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 24px;
            position: relative;
            overflow: hidden;
            border: 2px solid #d4af37;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .live-driver-tracking::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #d4af37, #b8972e);
            border-radius: 20px 20px 0 0;
        }

        .live-driver-tracking:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2), 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .tracking-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 20px;
            font-weight: 700;
            color: #333333;
            margin-bottom: 16px;
            font-family: 'Playfair Display', serif;
        }

        .tracking-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 16px;
        }

        .tracking-info span {
            font-size: 16px;
            color: #333333;
        }

        .tracking-info .distance,
        .tracking-info .eta {
            font-weight: 600;
            color: #d4af37;
        }

        .tracking-map-container {
            width: 100%;
            height: 200px;
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            background: #f0f0f0;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .tracking-map {
            width: 100%;
            height: 100%;
            position: relative;
            background: #f8f9fa;
            overflow: hidden;
        }

        .tracking-map-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}.png');
            background-size: cover;
            opacity: 0.3;
        }

        .tracking-path {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .tracking-road {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 6px;
            background: #d4d4d4;
            transform: translateY(-50%);
            z-index: 1;
        }

        .tracking-road::before,
        .tracking-road::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: repeating-linear-gradient(
                90deg,
                #ffffff,
                #ffffff 10px,
                transparent 10px,
                transparent 20px
            );
            top: 2px;
        }

        .tracking-road::after {
            top: auto;
            bottom: 2px;
        }

        .tracking-route {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 3px;
            background: #d4af37;
            transform: translateY(-50%);
            z-index: 2;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }

        .tracking-user-marker,
        .tracking-driver-marker {
            position: absolute;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3;
        }

        .tracking-user-marker {
            top: 50%;
            right: 10%;
            transform: translateY(-50%);
            background: #4285f4;
            box-shadow: 0 0 10px rgba(66, 133, 244, 0.5);
        }

        .tracking-driver-marker {
            top: 50%;
            left: 15%;
            transform: translateY(-50%);
            background: #d4af37;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            animation: driverMove 8s linear infinite;
        }

        @keyframes driverMove {
            0% { left: 15%; }
            100% { left: 85%; }
        }

        .tracking-user-marker i,
        .tracking-driver-marker i {
            color: white;
            font-size: 14px;
        }

        .tracking-pulse {
            position: absolute;
            top: 50%;
            left: 15%;
            width: 40px;
            height: 40px;
            background: rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulseRing 2s ease-out infinite;
            z-index: 2;
        }

        .tracking-status {
            position: absolute;
            bottom: 10px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 12px;
            color: #333333;
            background: rgba(255, 255, 255, 0.8);
            padding: 4px;
            border-radius: 4px;
            z-index: 4;
        }

        .tracking-details {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 12px;
        }

        .tracking-detail {
            text-align: center;
        }

        .tracking-detail-value {
            font-size: 18px;
            font-weight: 700;
            color: #d4af37;
        }

        .tracking-detail-label {
            font-size: 12px;
            color: #666666;
        }

        @keyframes pulseRing {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0.7; }
            100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: scale(0.9) translateY(20px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }

        @media (max-width: 640px) {
            .hero-section {
                min-height: 100vh;
            }
            .hero-content h2 {
                font-size: 2rem;
            }
            .map-wrapper {
                width: 320px;
                height: 320px;
            }
            .map-container {
                width: 280px;
                height: 280px;
            }
            .map-ornament {
                width: 300px;
                height: 300px;
            }
            .map-decoration {
                width: 320px;
                height: 320px;
            }
            .map-glow {
                width: 300px;
                height: 300px;
            }
            .map-compass {
                width: 40px;
                height: 40px;
            }
            .map-compass i {
                font-size: 20px;
            }
            .image-container {
                padding: 5px;
                max-width: 100%;
                height: 120px;
            }
            .image-container img {
                height: 100%;
            }
            .driver-image-container {
                max-width: 120px;
                height: 120px;
            }
            .form-container {
                max-width: 100%;
            }
            header {
                padding: 10px;
            }
            nav {
                width: 100%;
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
            }
            .geo-modal-content {
                margin: 20px;
                padding: 20px;
                border-radius: 16px;
            }
            .geo-modal-title {
                font-size: 20px;
            }
            .geo-modal-description {
                font-size: 14px;
            }
            .geo-modal-buttons {
                flex-direction: column;
                gap: 8px;
            }
            .geo-btn {
                padding: 14px;
                font-size: 15px;
            }
            .vehicle-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            .vehicle-card {
                padding: 12px;
            }
            .vehicle-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }
            .vehicle-name {
                font-size: 13px;
            }
            .vehicle-price {
                font-size: 11px;
            }
            .vehicle-selection {
                padding: 16px;
            }
            .vehicle-details-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .ride-notification {
                margin: 8px;
                padding: 12px;
            }
            .ride-notification .detail-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 4px;
            }
            .inbox-notification {
                top: 80px;
                right: 10px;
                left: 10px;
                max-width: none;
                transform: translateY(-100px);
            }
            .inbox-notification.show {
                transform: translateY(0);
            }
            .live-driver-tracking {
                max-width: 90%;
                padding: 16px;
            }
            .tracking-map-container {
                height: 150px;
            }
            .tracking-details {
                flex-direction: column;
                gap: 8px;
            }
        }

        .vehicle-card:hover {
            transform: translateY(-4px);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .vehicle-card input:checked + .vehicle-image + .p-5 {
            background-color: #f9fafb;
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .animate-bounce {
            animation: bounce 0.5s ease-in-out;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* PayPal Modal Styles */
        .paypal-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease-out;
        }

        .paypal-modal.hidden {
            display: none;
        }

        .paypal-modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            max-width: 95%;
            width: 380px;
            max-height: 90vh;
            overflow-y: auto;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            animation: slideUp 0.4s ease-out forwards;
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: #333333;
        }

        .paypal-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
        }

        .paypal-modal-title {
            font-size: 24px;
            font-weight: 700;
            color: #333333;
            font-family: 'Playfair Display', serif;
        }

        .paypal-close-btn {
            background: transparent;
            border: none;
            color: #666666;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .paypal-close-btn:hover {
            color: #d4af37;
        }

        .paypal-amount {
            font-size: 36px;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 16px;
        }

        .paypal-description {
            margin-bottom: 32px;
        }

        .paypal-description p:first-child {
            font-size: 18px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 4px;
        }

        .paypal-button-container {
            margin-bottom: 24px;
            min-height: 50px;
        }

        .paypal-security {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            color: #666666;
        }

        .paypal-security i {
            color: #10b981;
        }


    </style>
</head>
<body class="flex flex-col items-center">
    <!-- Particle Background -->
    <div id="particles-js"></div>

    <!-- New Solid Background Navigation -->
    <nav class="navbar">
        <div class="navbar-container">
            <!-- Logo Section -->
            <div class="navbar-brand">
                <div class="brand-logo">
                    <i class="fas fa-car"></i>
                </div>
                <span class="brand-text">Luxride</span>
            </div>

            <!-- Desktop Navigation -->
            <div class="navbar-nav desktop-nav">
                <a href="/" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>Ride</span>
                </a>
                <a href="/triphistory" class="nav-item">
                    <i class="fas fa-history"></i>
                    <span>Trip History</span>
                </a>
                <a href="/inbox" class="nav-item">
                    <i class="fas fa-inbox"></i>
                    <span>Inbox</span>
                </a>
                <a href="/profile" class="nav-item">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
                <a href="/driver-dashboard" class="nav-item">
                    <i class="fas fa-car-side"></i>
                    <span>Driver</span>
                </a>
                <a href="/signup" class="nav-item">
                    <i class="fas fa-user-plus"></i>
                    <span>Sign Up</span>
                </a>
                <a href="/receipt" class="nav-item">
                    <i class="fas fa-receipt"></i>
                    <span>Receipt</span>
                </a>
                <a href="/book" class="nav-item">
                    <i class="fas fa-calendar-plus"></i>
                    <span>Book</span>
                </a>
                <a href="/login" class="nav-item logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Log out</span>
                </a>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" id="mobile-toggle">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>

        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobile-nav">
            <div class="mobile-nav-header">
                <div class="mobile-brand">
                    <div class="brand-logo">
                        <i class="fas fa-car"></i>
                    </div>
                    <span class="brand-text">Luxride</span>
                </div>
                <button class="mobile-close" id="mobile-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="mobile-nav-content">
                <a href="/" class="mobile-nav-item active">
                    <i class="fas fa-home"></i>
                    <span>Ride</span>
                </a>
                <a href="/triphistory" class="mobile-nav-item">
                    <i class="fas fa-history"></i>
                    <span>Trip History</span>
                </a>
                <a href="/inbox" class="mobile-nav-item">
                    <i class="fas fa-inbox"></i>
                    <span>Inbox</span>
                </a>
                <a href="/profile" class="mobile-nav-item">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
                <a href="/driver-dashboard" class="mobile-nav-item">
                    <i class="fas fa-car-side"></i>
                    <span>Driver</span>
                </a>
                <a href="/signup" class="mobile-nav-item">
                    <i class="fas fa-user-plus"></i>
                    <span>Sign Up</span>
                </a>
                <a href="/receipt" class="mobile-nav-item">
                    <i class="fas fa-receipt"></i>
                    <span>Receipt</span>
                </a>
                <a href="/book" class="mobile-nav-item">
                    <i class="fas fa-calendar-plus"></i>
                    <span>Book</span>
                </a>
                <a href="/login" class="mobile-nav-item logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Log out</span>
                </a>
            </div>
        </div>

        <!-- Mobile Overlay -->
        <div class="mobile-overlay" id="mobile-overlay"></div>
    </nav>

        <!-- Hero Section -->
    <section class="hero-section text-gray-800 w-full">
        <div class="container mx-auto px-4 flex flex-col items-center hero-content">
            <h2 class="text-4xl sm:text-5xl font-extrabold mb-6 leading-tight text-center" style="font-family: 'Playfair Display', serif;">Go anywhere with Luxride</h2>
            
            <!-- Enhanced Map Section -->
            <div class="map-wrapper">
                <div class="map-decoration"></div>
                <div class="map-ornament"></div>
                <div class="map-frame"></div>
                <div class="map-glow"></div>
                <div id="map" class="map-container"></div>
                <div class="map-compass">
                    <i class="fas fa-compass"></i>
                </div>
                <div class="map-label">
                    <i class="fas fa-map-marker-alt text-[#d4af37] mr-1"></i>
                    Your Location
                </div>
            </div>
            
            <!-- Enhanced Live Driver Tracking -->
            <div id="live-driver-tracking" class="live-driver-tracking">
                <div class="tracking-header">
                    <i class="fas fa-location-arrow text-[#d4af37] text-2xl animate-pulse"></i>
                    <span>Live Driver Tracking</span>
                </div>
                <div class="tracking-info">
                    <span>Driver is <span id="driver-distance" class="distance">4.6 km</span> away</span>
                    <span>ETA: <span id="driver-eta" class="eta">8 min</span></span>
                </div>
                <div class="tracking-map-container">
                    <div id="tracking-map" class="tracking-map">
                        <div class="tracking-map-bg"></div>
                        <div class="tracking-path">
                            <div class="tracking-road"></div>
                            <div class="tracking-route"></div>
                        </div>
                        <div class="tracking-user-marker">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="tracking-driver-marker">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="tracking-pulse"></div>
                        <div class="tracking-status">Driver en route to pickup</div>
                    </div>
                </div>
                <div class="tracking-details">
                    <div class="tracking-detail">
                        <div class="tracking-detail-value">John</div>
                        <div class="tracking-detail-label">Driver Name</div>
                    </div>
                    <div class="tracking-detail">
                        <div class="tracking-detail-value">Toyota Camry</div>
                        <div class="tracking-detail-label">Vehicle</div>
                    </div>
                    <div class="tracking-detail">
                        <div class="tracking-detail-value">XYZ-1234</div>
                        <div class="tracking-detail-label">License Plate</div>
                    </div>
                </div>
            </div>
            <div class="image-container mt-4">
                <div class="carousel" id="carousel">
                    <div class="carousel-item">
                        <img src="https://alphazug.com/wp-content/uploads/2020/11/800px-Rolls-Royce_Phantom_VIII_Genf_2019_1Y7A5148.jpg" alt="Luxride Vehicle 1">
                    </div>
                    <div class="carousel-item">
                        <img src="https://grandex.de/wp-content/uploads/2025/02/1732025731_a2ffe1f614e25c297f73-17.jpg" alt="Luxride Vehicle 2">
                    </div>
                    <div class="carousel-item">
                        <img src="https://media.istockphoto.com/id/1348551471/photo/night-photo-of-a-cadillac-escalade-luxury-suv-limo-used-for-uber-and-lyft.jpg?s=612x612&w=0&k=20&c=o6z49qXSxzjUm6JR8ml2QQNxs1E1oBgJOktZwYAWkZo=" alt="Luxride Vehicle 3">
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn" id="prev-btn"><i class="fas fa-chevron-left"></i></button>
                    <button class="carousel-btn" id="next-btn"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="carousel-dots" id="carousel-dots">
                    <span class="carousel-dot active"></span>
                    <span class="carousel-dot"></span>
                    <span class="carousel-dot"></span>
                </div>
            </div>

            <!-- Enhanced Vehicle Type Selection Section -->
            <div class="vehicle-selection p-10 bg-gradient-to-b from-gray-50 to-gray-100 rounded-3xl shadow-2xl relative overflow-hidden transform transition-all duration-500 hover:shadow-3xl">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/soft-wallpaper.png')] opacity-10"></div>
                
                <!-- Enhanced Header with Gradient Underline -->
                <div class="vehicle-selection-title flex items-center gap-4 mb-8 relative z-10">
                    <div class="relative">
                        <i class="fas fa-car-side text-[#d4af37] text-4xl animate-pulse"></i>
                        <div class="absolute -inset-2 bg-[#d4af37]/20 rounded-full blur-md"></div>
                    </div>
                    <span class="text-3xl font-bold text-gray-800 tracking-tight" style="font-family: 'Playfair Display', serif;">Choose Your Ride</span>
                </div>
                
                <div class="w-24 h-1 bg-gradient-to-r from-[#d4af37] to-[#b8972e] mx-auto mb-8 rounded-full"></div>
                
                <p class="vehicle-selection-subtitle text-gray-600 mb-10 text-lg relative z-10">Select the perfect vehicle for your journey</p>

                <!-- Enhanced Vehicle Grid with Better Cards -->
                <div class="vehicle-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10">
                    <label class="vehicle-card vehicle-standard relative bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 cursor-pointer overflow-hidden group transform hover:-translate-y-2" data-vehicle="standard">
                        <input type="radio" name="vehicleType" value="standard" class="hidden peer">
                        
                        <!-- Enhanced Image Container with Hover Effect -->
                        <div class="vehicle-image h-44 bg-cover bg-center relative overflow-hidden rounded-t-2xl">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                            <img src="https://alphazug.com/wp-content/uploads/2020/11/800px-Rolls-Royce_Phantom_VIII_Genf_2019_1Y7A5148.jpg" alt="Standard Car" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            
                            <!-- Image Overlay with Badge -->
                            <div class="absolute top-3 left-3 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                Popular
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <!-- Enhanced Icon with Animation -->
                            <div class="vehicle-icon text-3xl text-[#d4af37] mb-4 relative">
                                <i class="fas fa-car"></i>
                                <div class="absolute inset-0 bg-[#d4af37]/20 rounded-full blur-md"></div>
                            </div>
                            
                            <div class="vehicle-name text-xl font-semibold text-gray-800 mb-2">Standard</div>
                            <div class="vehicle-price text-[#d4af37] font-bold text-lg mb-3">$0.50/km</div>
                            
                            <!-- Enhanced Capacity and Time Display -->
                            <div class="flex items-center justify-between text-gray-600 mb-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-user-friends text-sm"></i>
                                    <span class="text-sm">4 seats</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock text-sm"></i>
                                    <span class="text-sm">~12 min</span>
                                </div>
                            </div>
                            
                            <!-- Enhanced Features List -->
                            <div class="flex flex-wrap gap-2 justify-center">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">AC</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Music</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Charging</span>
                            </div>
                        </div>
                        
                        <!-- Enhanced Selection Indicator -->
                        <div class="absolute top-4 right-4 hidden peer-checked:block animate-bounce">
                            <div class="w-10 h-10 bg-[#d4af37] rounded-full flex items-center justify-center shadow-lg">
                                <i class="fas fa-check text-white"></i>
                            </div>
                        </div>
                        
                        <!-- Hover Effect Overlay -->
                        <div class="absolute inset-0 bg-gradient-to-t from-[#d4af37]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                    </label>

                    <label class="vehicle-card vehicle-premium relative bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 cursor-pointer overflow-hidden group transform hover:-translate-y-2" data-vehicle="premium">
                        <input type="radio" name="vehicleType" value="premium" class="hidden peer">
                        
                        <!-- Enhanced Image Container with Hover Effect -->
                        <div class="vehicle-image h-44 bg-cover bg-center relative overflow-hidden rounded-t-2xl">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                            <img src="https://grandex.de/wp-content/uploads/2025/02/1732025731_a2ffe1f614e25c297f73-17.jpg" alt="Premium Car" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            
                            <!-- Image Overlay with Badge -->
                            <div class="absolute top-3 left-3 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full">
                                <i class="fas fa-crown text-yellow-400 mr-1"></i>
                                Premium
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <!-- Enhanced Icon with Animation -->
                            <div class="vehicle-icon text-3xl text-[#d4af37] mb-4 relative">
                                <i class="fas fa-crown"></i>
                                <div class="absolute inset-0 bg-[#d4af37]/20 rounded-full blur-md"></div>
                            </div>
                            
                            <div class="vehicle-name text-xl font-semibold text-gray-800 mb-2">Premium</div>
                            <div class="vehicle-price text-[#d4af37] font-bold text-lg mb-3">$0.80/km</div>
                            
                            <!-- Enhanced Capacity and Time Display -->
                            <div class="flex items-center justify-between text-gray-600 mb-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-user-friends text-sm"></i>
                                    <span class="text-sm">4 seats</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock text-sm"></i>
                                    <span class="text-sm">~10 min</span>
                                </div>
                            </div>
                            
                            <!-- Enhanced Features List -->
                            <div class="flex flex-wrap gap-2 justify-center">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Leather</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">WiFi</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Drinks</span>
                            </div>
                        </div>
                        
                        <!-- Enhanced Selection Indicator -->
                        <div class="absolute top-4 right-4 hidden peer-checked:block animate-bounce">
                            <div class="w-10 h-10 bg-[#d4af37] rounded-full flex items-center justify-center shadow-lg">
                                <i class="fas fa-check text-white"></i>
                            </div>
                        </div>
                        
                        <!-- Hover Effect Overlay -->
                        <div class="absolute inset-0 bg-gradient-to-t from-[#d4af37]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                    </label>

                    <label class="vehicle-card vehicle-suv relative bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 cursor-pointer overflow-hidden group transform hover:-translate-y-2" data-vehicle="suv">
                        <input type="radio" name="vehicleType" value="suv" class="hidden peer">
                        
                        <!-- Enhanced Image Container with Hover Effect -->
                        <div class="vehicle-image h-44 bg-cover bg-center relative overflow-hidden rounded-t-2xl">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                            <img src="https://media.istockphoto.com/id/1348551471/photo/night-photo-of-a-cadillac-escalade-luxury-suv-limo-used-for-uber-and-lyft.jpg?s=612x612&w=0&k=20&c=o6z49qXSxzjUm6JR8ml2QQNxs1E1oBgJOktZwYAWkZo=" alt="SUV" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            
                            <!-- Image Overlay with Badge -->
                            <div class="absolute top-3 left-3 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full">
                                <i class="fas fa-mountain text-green-400 mr-1"></i>
                                Adventure
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <!-- Enhanced Icon with Animation -->
                            <div class="vehicle-icon text-3xl text-[#d4af37] mb-4 relative">
                                <i class="fas fa-suv-pickup"></i>
                                <div class="absolute inset-0 bg-[#d4af37]/20 rounded-full blur-md"></div>
                            </div>
                            
                            <div class="vehicle-name text-xl font-semibold text-gray-800 mb-2">SUV</div>
                            <div class="vehicle-price text-[#d4af37] font-bold text-lg mb-3">$0.70/km</div>
                            
                            <!-- Enhanced Capacity and Time Display -->
                            <div class="flex items-center justify-between text-gray-600 mb-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-users text-sm"></i>
                                    <span class="text-sm">6 seats</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock text-sm"></i>
                                    <span class="text-sm">~11 min</span>
                                </div>
                            </div>
                            
                            <!-- Enhanced Features List -->
                            <div class="flex flex-wrap gap-2 justify-center">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Spacious</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Luggage</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Safety</span>
                            </div>
                        </div>
                        
                        <!-- Enhanced Selection Indicator -->
                        <div class="absolute top-4 right-4 hidden peer-checked:block animate-bounce">
                            <div class="w-10 h-10 bg-[#d4af37] rounded-full flex items-center justify-center shadow-lg">
                                <i class="fas fa-check text-white"></i>
                            </div>
                        </div>
                        
                        <!-- Hover Effect Overlay -->
                        <div class="absolute inset-0 bg-gradient-to-t from-[#d4af37]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                    </label>

                    <label class="vehicle-card vehicle-xl relative bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 cursor-pointer overflow-hidden group transform hover:-translate-y-2" data-vehicle="xl">
                        <input type="radio" name="vehicleType" value="xl" class="hidden peer">
                        
                        <!-- Enhanced Image Container with Hover Effect -->
                        <div class="vehicle-image h-44 bg-cover bg-center relative overflow-hidden rounded-t-2xl">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                            <img src="https://www.topgear.com/sites/default/files/2024/02/2024-cadillac-escalade-v-series-010.jpg" alt="XL Van" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            
                            <!-- Image Overlay with Badge -->
                            <div class="absolute top-3 left-3 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full">
                                <i class="fas fa-users text-blue-400 mr-1"></i>
                                Group
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <!-- Enhanced Icon with Animation -->
                            <div class="vehicle-icon text-3xl text-[#d4af37] mb-4 relative">
                                <i class="fas fa-truck-pickup"></i>
                                <div class="absolute inset-0 bg-[#d4af37]/20 rounded-full blur-md"></div>
                            </div>
                            
                            <div class="vehicle-name text-xl font-semibold text-gray-800 mb-2">XL</div>
                            <div class="vehicle-price text-[#d4af37] font-bold text-lg mb-3">$1.00/km</div>
                            
                            <!-- Enhanced Capacity and Time Display -->
                            <div class="flex items-center justify-between text-gray-600 mb-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-users text-sm"></i>
                                    <span class="text-sm">8 seats</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="fas fa-clock text-sm"></i>
                                    <span class="text-sm">~9 min</span>
                                </div>
                            </div>
                            
                            <!-- Enhanced Features List -->
                            <div class="flex flex-wrap gap-2 justify-center">
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Extra Space</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Luggage</span>
                                <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full">Party</span>
                            </div>
                        </div>
                        
                        <!-- Enhanced Selection Indicator -->
                        <div class="absolute top-4 right-4 hidden peer-checked:block animate-bounce">
                            <div class="w-10 h-10 bg-[#d4af37] rounded-full flex items-center justify-center shadow-lg">
                                <i class="fas fa-check text-white"></i>
                            </div>
                        </div>
                        
                        <!-- Hover Effect Overlay -->
                        <div class="absolute inset-0 bg-gradient-to-t from-[#d4af37]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                    </label>
                </div>

                <!-- Enhanced Selection Required Notice -->
                <div id="selectionNotice" class="selection-required hidden flex items-center gap-3 text-red-600 bg-red-100 p-4 rounded-xl mt-8 relative z-10 transform transition-all duration-300">
                    <div class="relative">
                        <i class="fas fa-exclamation-triangle text-xl animate-pulse"></i>
                        <div class="absolute inset-0 bg-red-400/30 rounded-full blur-md"></div>
                    </div>
                    <span class="font-medium">Please select a vehicle type to continue with your booking</span>
                </div>

                <!-- Enhanced Selected Vehicle Info -->
                <div id="selectedVehicleInfo" class="vehicle-selection-info mt-10 p-8 bg-white rounded-2xl shadow-xl relative z-10 transform transition-all duration-500">
                    <!-- Enhanced Header with Gradient Background -->
                    <div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-[#d4af37] to-[#b8972e] rounded-t-2xl"></div>
                    
                    <div class="vehicle-info-header flex items-center gap-6 mb-6">
                        <div class="vehicle-info-icon text-4xl text-[#d4af37] relative">
                            <i class="fas fa-car"></i>
                            <div class="absolute inset-0 bg-[#d4af37]/20 rounded-full blur-md"></div>
                        </div>
                        <div>
                            <h4 id="selectedVehicleName" class="text-2xl font-bold text-gray-800" style="font-family: 'Playfair Display', serif;">Standard Sedan</h4>
                            <p id="selectedVehicleDetails" class="text-gray-600 mt-1">Perfect for everyday rides. Comfortable seating for up to 4 passengers with ample luggage space.</p>
                        </div>
                    </div>

                    <!-- Enhanced Details Grid with Better Styling -->
                    <div class="vehicle-details-grid grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6">
                        <div class="vehicle-detail-item flex flex-col items-center justify-center p-3 bg-gray-50 rounded-xl border border-gray-200 hover:border-[#d4af37] transition-all duration-300">
                            <i class="fas fa-dollar-sign text-[#d4af37] text-xl mb-2"></i>
                            <span id="selectedVehiclePrice" class="font-medium text-gray-800">$2.50/km</span>
                        </div>
                        <div class="vehicle-detail-item flex flex-col items-center justify-center p-3 bg-gray-50 rounded-xl border border-gray-200 hover:border-[#d4af37] transition-all duration-300">
                            <i class="fas fa-users text-[#d4af37] text-xl mb-2"></i>
                            <span id="selectedVehicleCapacity" class="font-medium text-gray-800">4 seats</span>
                        </div>
                        <div class="vehicle-detail-item flex flex-col items-center justify-center p-3 bg-gray-50 rounded-xl border border-gray-200 hover:border-[#d4af37] transition-all duration-300">
                            <i class="fas fa-clock text-[#d4af37] text-xl mb-2"></i>
                            <span id="selectedVehicleTime" class="font-medium text-gray-800">~12 min</span>
                        </div>
                        <div class="vehicle-detail-item flex flex-col items-center justify-center p-3 bg-gray-50 rounded-xl border border-gray-200 hover:border-[#d4af37] transition-all duration-300">
                            <i class="fas fa-star text-[#d4af37] text-xl mb-2"></i>
                            <span class="font-medium text-gray-800">Premium Service</span>
                        </div>
                    </div>

                    <!-- Enhanced Change Button with Better Styling -->
                    <button id="changeVehicleBtn" class="vehicle-change-btn w-full py-3 px-6 bg-[#d4af37] text-white rounded-xl hover:bg-[#b8972e] transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 font-medium shadow-lg">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Change Vehicle</span>
                    </button>
                </div>
            </div>

            <div class="form-container p-6 mt-6 bg-white rounded-2xl shadow-xl">
                <!-- Fare Estimator -->
                <div class="mb-6 p-4 bg-gray-50 rounded-xl shadow flex flex-col items-center">
                    <h4 class="text-lg font-bold mb-2 flex items-center gap-2"><i class="fas fa-calculator text-[#d4af37]"></i>Fare Estimator</h4>
                    <div class="flex gap-2 w-full">
                        <input type="number" id="est-distance" min="1" max="100" placeholder="Distance (km)" class="input-field w-1/2" />
                        <select id="est-vehicle" class="input-field w-1/2">
                            <option value="standard">Standard</option>
                            <option value="premium">Premium</option>
                            <option value="suv">SUV</option>
                            <option value="xl">XL</option>
                        </select>
                    </div>
                    <button id="estimate-btn" class="mt-2 btn-primary px-4 py-2">Estimate</button>
                    <div id="fare-result" class="mt-2 text-[#d4af37] font-bold"></div>
                </div>
                <form id="ride-form" class="space-y-4">
                    <div class="flex flex-col space-y-4">
                        <div class="relative">
                            <input type="text" id="pickup-location" placeholder="Enter pickup location" class="w-full pl-12 pr-4 py-3 input-field text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] focus:border-transparent transition-all" required>
                            <i class="fas fa-map-marker-alt absolute top-1/2 left-4 transform -translate-y-1/2 text-[#d4af37] text-lg"></i>
                        </div>
                        <div class="relative">
                            <input type="text" id="destination" placeholder="Enter destination" class="w-full pl-12 pr-4 py-3 input-field text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] focus:border-transparent transition-all" required>
                            <i class="fas fa-map-pin absolute top-1/2 left-4 transform -translate-y-1/2 text-[#d4af37] text-lg"></i>
                        </div>
                        <div class="relative">
                            <input type="text" id="date-picker" placeholder="Select pickup time" class="w-full pl-12 pr-4 py-3 input-field calendar-toggle text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] focus:border-transparent transition-all" readonly>
                            <i class="fas fa-calendar-alt absolute top-1/2 left-4 transform -translate-y-1/2 text-[#d4af37] text-lg"></i>
                        </div>
                        <button type="submit" id="submitBtn" class="w-full py-3 font-medium btn-primary text-base bg-[#d4af37] text-white rounded-lg hover:bg-[#b8972e] transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed" disabled>
                            <i class="fas fa-car"></i>
                            <span>Select Vehicle First</span>
                            <svg id="loadingSpinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        </button>
                    </div>
                </form>
                <div id="form-message-container" class="mt-4 text-center"></div>
            </div>

            <!-- Driver Information Section -->
            <div class="form-container p-6 mt-4 text-center">
                <h3 class="text-xl font-bold mb-4" style="font-family: 'Playfair Display', serif;">Your Driver</h3>
                <div class="driver-image-container">
                    <img src="https://img.freepik.com/premium-photo/photo-middle-aged-driver-man-sitting-yellow-taxi-driving-city-street-with-smile-holding-hands-steering-wheel_726520-4334.jpg" alt="Driver Photo" onerror="this.src='https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=600';">
                </div>
                <div class="mt-4 space-y-2">
                    <a id="contact-call-btn" href="tel:+1-800-555-1234" class="w-full py-3 font-medium btn-primary text-base flex items-center justify-center space-x-2">
                        <i class="fas fa-phone"></i>
                        <span>Call Driver</span>
                    </a>
                    <button id="cancel-ride-btn" class="w-full py-3 font-medium btn-danger text-base flex items-center justify-center space-x-2">
                        <i class="fas fa-times"></i>
                        <span>Cancel Ride</span>
                    </button>
                </div>
                <div class="mt-4">
                    <h4 class="text-lg font-bold" style="font-family: 'Playfair Display', serif;">John Doe</h4>
                    <p class="text-gray-600 text-sm">Rating: <span class="text-[#d4af37]">â˜…â˜…â˜…â˜…â˜… 4.8</span></p>
                    <p class="text-gray-600 text-sm">Vehicle: Toyota Camry (Black)</p>
                    <p class="text-gray-600 text-sm">License Plate: XYZ-1234</p>
                </div>
                <!-- Ratings & Feedback -->
                <div class="mt-6 p-4 bg-gray-50 rounded-xl shadow flex flex-col items-center">
                    <h4 class="text-lg font-bold mb-2 flex items-center gap-2"><i class="fas fa-star text-[#d4af37]"></i>Rate Your Driver</h4>
                    <div class="flex gap-1 mb-2" id="star-rating">
                        <i class="fas fa-star text-gray-300 cursor-pointer" data-value="1"></i>
                        <i class="fas fa-star text-gray-300 cursor-pointer" data-value="2"></i>
                        <i class="fas fa-star text-gray-300 cursor-pointer" data-value="3"></i>
                        <i class="fas fa-star text-gray-300 cursor-pointer" data-value="4"></i>
                        <i class="fas fa-star text-gray-300 cursor-pointer" data-value="5"></i>
                    </div>
                    <textarea id="feedback" rows="2" placeholder="Leave feedback..." class="input-field w-full mb-2"></textarea>
                    <button id="submit-feedback" class="btn-primary px-4 py-2">Submit Feedback</button>
                    <div id="feedback-result" class="mt-2 text-green-600 font-medium"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Login Section -->
    <section class="py-16 section-gradient w-full text-center relative overflow-hidden">
        <div class="container mx-auto px-4 max-w-lg">
            <div class="form-container p-10 relative z-10 bg-gradient-to-br from-white/95 to-gray-100/95 rounded-3xl shadow-2xl backdrop-blur-sm border border-white/20 transform transition-all duration-500 hover:shadow-3xl">
                <!-- Enhanced Image Container with Parallax Effect -->
                <div class="image-container mb-8 transform hover:scale-105 transition-all duration-500 relative overflow-hidden rounded-2xl shadow-lg group">
                    <img src="https://cdn.motor1.com/images/mgl/G33erV/s1/mercedes-maybach-haute-voiture-concept-al-design-essentials-iv.webp" alt="Luxride App Dashboard Preview" onerror="this.src='https://images.pexels.com/photos/3760067/pexels-photo-3760067.jpeg?auto=compress&cs=tinysrgb&w=600';" class="w-full h-48 object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent rounded-2xl"></div>
                    <div class="absolute bottom-4 left-0 right-0 text-center transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300">
                        <span class="text-white text-sm font-medium bg-black/30 backdrop-blur-sm px-3 py-1 rounded-full">Premium Experience</span>
                    </div>
                </div>
                
                <!-- Enhanced Typography with Better Hierarchy -->
                <div class="mb-8">
                    <h3 class="text-4xl font-bold mb-4 text-gray-800 leading-tight" style="font-family: 'Playfair Display', serif;">
                        Log in to see your recent activity
                    </h3>
                    <div class="w-16 h-1 bg-gradient-to-r from-[#d4af37] to-[#b8972e] mx-auto mb-6 rounded-full"></div>
                    <p class="text-gray-600 text-base leading-relaxed max-w-md mx-auto">
                        View past trips, tailored suggestions, support resources, and more.
                    </p>
                </div>
                
                <!-- Enhanced Login Button with More Interactions -->
                <a href="login.html" id="login-section-btn" class="px-10 py-4 font-medium btn-primary text-lg inline-block transform transition-all duration-300 relative overflow-hidden group rounded-xl shadow-lg hover:shadow-xl">
                    <span class="relative z-10 flex items-center justify-center">
                        <i class="fas fa-sign-in-alt mr-2"></i>
                        Log in
                    </span>
                    <div class="absolute inset-0 bg-gradient-to-r from-[#d4af37] to-[#b8972e] opacity-75 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                    <div class="absolute top-0 left-0 w-full h-full transform scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-500 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                </a>
                
                
                <!-- Enhanced Background Decorative Elements -->
                <div class="absolute top-0 left-0 w-full h-full z-0 pointer-events-none overflow-hidden">
                    <div class="absolute top-5 left-5 w-32 h-32 bg-[#d4af37]/30 rounded-full filter blur-3xl animate-pulse"></div>
                    <div class="absolute bottom-5 right-5 w-40 h-40 bg-[#b8972e]/30 rounded-full filter blur-3xl animate-pulse delay-1000"></div>
                    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-[#d4af37]/10 to-transparent rounded-full filter blur-2xl"></div>
                    
                    <!-- Enhanced SVG Pattern -->
                    <svg class="absolute top-0 left-0 w-full h-full opacity-10" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <path fill="#d4af37" d="M44.7,-76.4C58.1,-69.2,69.2,-56.8,75.6,-42.3C82,-27.8,83.6,-11.4,80.9,3.9C78.2,19.2,71.1,33.5,61.6,46.2C52.1,58.9,40.2,70,27.1,77.2C14,84.4,-0.3,87.8,1.5,-84.2C-31.5,81.8,-48.4,72.5,-60.9,59.2C-73.4,45.9,-81.5,28.7,-74.2,-39.3C-66.2,-54.9,-53.9,-68.5,-40.1,-76.2C-26.3,-83.9,-12.2,-85.7,1.5,-84.2C15.2,-82.7,30.4,-77.9,44.7,-76.4Z" transform="translate(100 100)" />
                    </svg>
                    
                    <!-- Additional Decorative Elements -->
                    <div class="absolute top-10 right-10 w-4 h-4 bg-[#d4af37]/60 rounded-full"></div>
                    <div class="absolute bottom-10 left-10 w-3 h-3 bg-[#b8972e]/60 rounded-full"></div>
                    <div class="absolute top-1/3 right-1/4 w-2 h-2 bg-[#d4af37]/40 rounded-full"></div>
                    <div class="absolute bottom-1/3 left-1/4 w-2 h-2 bg-[#b8972e]/40 rounded-full"></div>
                </div>
                
                <!-- Subtle Border Animation -->
                <div class="absolute inset-0 rounded-3xl overflow-hidden pointer-events-none">
                    <div class="absolute inset-0 border-2 border-transparent rounded-3xl bg-gradient-to-r from-[#d4af37] via-[#b8972e] to-[#d4af37] bg-clip-border opacity-0 hover:opacity-100 transition-opacity duration-500"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 w-full">
        <div class="container mx-auto px-4 max-w-md">
            <div class="grid grid-cols-1 gap-6 text-center">
                <div>
                    <h4 class="text-lg font-bold mb-3" style="font-family: 'Playfair Display', serif;">Luxride</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:underline">About us</a></li>
                        <li><a href="#" class="hover:underline">Careers</a></li>
                        <li><a href="#" class="hover:underline">Newsroom</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-3" style="font-family: 'Playfair Display', serif;">Support</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:underline">Help Center</a></li>
                        <li><a href="#" class="hover:underline">Contact us</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-3" style="font-family: 'Playfair Display', serif;">Follow us</h4>
                    <div class="flex space-x-4 justify-center">
                        <a href="#" class="hover:text-[#d4af37]"><i class="fab fa-facebook-f text-lg"></i></a>
                        <a href="#" class="hover:text-[#d4af37]"><i class="fab fa-twitter text-lg"></i></a>
                        <a href="#" class="hover:text-[#d4af37]"><i class="fab fa-instagram text-lg"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-6 text-center text-sm text-gray-600">
                <p>&copy; 2025 Luxride Technologies Inc. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Schedule Modal -->
    <div id="schedule-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-4 rounded-lg max-w-sm w-full mx-4">
            <h2 class="text-xl font-bold mb-4 text-center" style="font-family: 'Playfair Display', serif;">Plan Your Pickup</h2>
            <div class="pickup-options flex flex-col gap-2 mb-4">
                <div class="pickup-option p-3 border rounded-lg cursor-pointer text-center text-sm" data-option="now">Now</div>
                <div class="pickup-option p-3 border rounded-lg cursor-pointer text-center text-sm" data-option="today">Today</div>
                <div class="pickup-option p-3 border rounded-lg cursor-pointer text-center text-sm" data-option="later">Choose your pick-up time up to 30 days in advance</div>
            </div>
            <div class="datetime-picker hidden mb-4">
                <label for="pickup-datetime" class="block text-sm mb-2">Select Pickup Date and Time:</label>
                <input type="datetime-local" id="pickup-datetime" class="w-full p-2 text-sm border border-gray-300 rounded-lg input-field" />
            </div>
            <div class="text-xs text-gray-600 mb-2 text-center">Extra wait time included to meet your trip</div>
            <div class="text-xs text-gray-600 mb-2 text-center">Cancel at no charge up to 60 minutes in advance</div>
            <div class="text-xs text-gray-600 mb-2 text-center"><a href="#" class="text-[#d4af37] hover:underline">See Terms</a></div>
            <button class="next-button block w-full p-3 text-white border-none rounded-lg text-sm cursor-pointer btn-primary disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>Confirm</button>
        </div>
    </div>

    <!-- Geolocation Permission Modal -->
    <div id="geo-permission-modal" class="geo-permission-modal hidden">
        <div class="geo-modal-content">
            <div class="geo-modal-icon">
                <i class="fas fa-map-marker-alt"></i>
            </div>
            <h2 class="geo-modal-title">Know Your Location</h2>
            <p class="geo-modal-description">
                Allow Luxride to access your location so we can provide accurate pickup points and show you nearby drivers.
            </p>
            <div class="geo-modal-buttons">
                <button id="geo-allow-btn" class="geo-btn geo-btn-allow">
                    <i class="fas fa-check"></i>
                    <span>Allow Location Access</span>
                </button>
                <button id="geo-deny-btn" class="geo-btn geo-btn-deny">
                    <i class="fas fa-times"></i>
                    <span>Don't Allow</span>
                </button>
            </div>
        </div>
    </div>

    <!-- PayPal Payment Modal -->
    <div id="paypal-modal" class="paypal-modal hidden">
        <div class="paypal-modal-content">
            <div class="paypal-modal-header">
                <h2 class="paypal-modal-title">Complete Your Payment</h2>
                <button id="paypal-close-btn" class="paypal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="paypal-amount" id="paypal-amount">$25.00</div>
            
            <div class="paypal-description">
                <p>Luxride Taxi Service</p>
                <p class="text-sm text-gray-600">Secure payment powered by PayPal</p>
            </div>
            
            <div id="paypal-button-container" class="paypal-button-container">
                <!-- PayPal button will be rendered here -->
            </div>
            
            <div class="paypal-security">
                <i class="fas fa-shield-alt"></i>
                <span>Your payment is secure and encrypted</span>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=ARYOpSlIb3YT14BrKtINl6LvCNa-FxtQ-2FDr1U2KpxoAt6GHqt-eWp7nYKNAeKK1h7ZRzJrhcbwKYli&buyer-country=US&currency=USD&components=buttons&enable-funding=venmo,paylater,card" data-sdk-integration-source="developer-studio"></script>
    <script>
        // Check user access on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkUserAccess();
        });

        // Check if user is authenticated
        function checkUserAccess() {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            const userType = localStorage.getItem('userType');
            
            // Both drivers and riders can access all pages now
            // No redirects needed
        }

        // Particle Background Initialization (from login.html)
        particlesJS('particles-js', {
            particles: {
                number: { value: 50, density: { enable: true, value_area: 1000 } },
                color: { value: ['#d4af37', '#3b82f6', '#ffffff', '#b8972e'] },
                shape: { type: 'circle', stroke: { width: 2, color: '#d4af37' } },
                opacity: { value: 0.6, random: true, anim: { enable: true, speed: 1.5, opacity_min: 0.1 } },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: '#d4af37', opacity: 0.4, width: 1 },
                move: { enable: true, speed: 2, direction: 'none', random: true }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
                modes: { repulse: { distance: 100 }, push: { particles_nb: 4 } }
            },
            retina_detect: true
        });
        // Carousel functionality
        const carousel = document.getElementById('carousel');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const dots = document.querySelectorAll('.carousel-dot');
        let currentIndex = 0;
        const totalItems = document.querySelectorAll('.carousel-item').length;

        function updateCarousel() {
            carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        function autoSlide() {
            currentIndex = (currentIndex + 1) % totalItems;
            updateCarousel();
        }

        prevBtn.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + totalItems) % totalItems;
            updateCarousel();
        });

        nextBtn.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % totalItems;
            updateCarousel();
        });

                dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentIndex = index;
                updateCarousel();
            });
        });

        let autoSlideInterval = setInterval(autoSlide, 5000);

        carousel.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
        carousel.addEventListener('mouseleave', () => autoSlideInterval = setInterval(autoSlide, 5000));

        // Map Initialization
        let map = L.map('map').setView([51.505, -0.09], 13);
        let marker;
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
        
        // Initialize live driver tracking with realistic values
        document.getElementById('driver-distance').textContent = '4.6 km';
        document.getElementById('driver-eta').textContent = '8 min';
        
        // Simulate live driver tracking updates
        function updateDriverTracking() {
            // Simulate realistic distance and ETA changes
            const currentDistance = parseFloat(document.getElementById('driver-distance').textContent);
            const currentETA = parseInt(document.getElementById('driver-eta').textContent);
            
            // Gradually decrease distance and ETA
            const newDistance = Math.max(0.1, currentDistance - (Math.random() * 0.3 + 0.1)).toFixed(1);
            const newETA = Math.max(1, currentETA - Math.floor(Math.random() * 2 + 0.5));
            
            document.getElementById('driver-distance').textContent = `${newDistance} km`;
            document.getElementById('driver-eta').textContent = `${newETA} min`;
            
            // Update tracking status based on distance
            const statusElement = document.querySelector('.tracking-status');
            if (newDistance < 0.5) {
                statusElement.textContent = 'Driver has arrived';
            } else if (newDistance < 1) {
                statusElement.textContent = 'Driver is very close';
            } else {
                statusElement.textContent = 'Driver en route to pickup';
            }
        }
        
        // Update driver tracking every 3 seconds for more realistic updates
        setInterval(updateDriverTracking, 3000);

        // Geolocation Permission Modal
        const geoModal = document.getElementById('geo-permission-modal');
        const geoAllowBtn = document.getElementById('geo-allow-btn');
        const geoDenyBtn = document.getElementById('geo-deny-btn');

        function showGeoModal() {
            geoModal.classList.remove('hidden');
        }

        function hideGeoModal() {
            geoModal.classList.add('hidden');
        }

        function handleGeolocation() {
            if (navigator.geolocation) {
                showGeoModal();
            } else {
                showToast('Geolocation is not supported by this browser.', 'error');
            }
        }

        geoAllowBtn.addEventListener('click', () => {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const { latitude, longitude } = position.coords;
                    map.setView([latitude, longitude], 15);
                    if (marker) {
                        map.removeLayer(marker);
                    }
                    marker = L.marker([latitude, longitude], {
                        icon: L.divIcon({
                            className: 'custom-marker',
                            html: '<div></div>',
                            iconSize: [36, 36]
                        })
                    }).addTo(map);
                    document.getElementById('pickup-location').value = `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;
                    showToast('Location accessed successfully!', 'success');
                    hideGeoModal();
                },
                (error) => {
                    showToast('Unable to access location. Please try again.', 'error');
                    hideGeoModal();
                }
            );
        });

        geoDenyBtn.addEventListener('click', () => {
            hideGeoModal();
            showToast('Location access denied. Please enter your pickup location manually.', 'error');
        });

        // Initialize map with default location or geolocation
        setTimeout(handleGeolocation, 1000);

        // Fare Estimator - Testing Prices
        const fareRates = {
            standard: 0.5,
            premium: 0.8,
            suv: 0.7,
            xl: 1.0
        };
        document.getElementById('estimate-btn').addEventListener('click', () => {
            const distance = parseFloat(document.getElementById('est-distance').value);
            const vehicle = document.getElementById('est-vehicle').value;
            if (!distance || distance < 1) {
                document.getElementById('fare-result').textContent = 'Enter valid distance.';
                return;
            }
            const fare = (distance * fareRates[vehicle]).toFixed(2);
            document.getElementById('fare-result').textContent = `Estimated Fare: $${fare}`;
        });

        // Vehicle Selection Logic
        const vehicleCards = document.querySelectorAll('.vehicle-card');
        const selectedVehicleInfo = document.getElementById('selectedVehicleInfo');
        const selectedVehicleName = document.getElementById('selectedVehicleName');
        const selectedVehicleDetails = document.getElementById('selectedVehicleDetails');
        const selectedVehiclePrice = document.getElementById('selectedVehiclePrice');
        const selectedVehicleCapacity = document.getElementById('selectedVehicleCapacity');
        const selectedVehicleTime = document.getElementById('selectedVehicleTime');
        const changeVehicleBtn = document.getElementById('changeVehicleBtn');
        const selectionNotice = document.getElementById('selectionNotice');
        const submitBtn = document.getElementById('submitBtn');

        const vehicleData = {
            standard: {
                name: 'Standard Sedan',
                details: 'Perfect for everyday rides. Comfortable seating for up to 4 passengers with ample luggage space.',
                price: '$0.50/km',
                capacity: '4 seats',
                time: '~12 min'
            },
            premium: {
                name: 'Premium Sedan',
                details: 'Luxury and comfort for a premium experience. Ideal for business trips or special occasions.',
                price: '$0.80/km',
                capacity: '4 seats',
                time: '~10 min'
            },
            suv: {
                name: 'SUV',
                details: 'Spacious and robust, perfect for groups or extra luggage. Comfort for up to 6 passengers.',
                price: '$0.70/km',
                capacity: '6 seats',
                time: '~11 min'
            },
            xl: {
                name: 'XL Van',
                details: 'Extra-large vehicle for big groups or lots of luggage. Comfortably seats up to 8 passengers.',
                price: '$1.00/km',
                capacity: '8 seats',
                time: '~9 min'
            }
        };

        function updateSelectedVehicle(vehicleType) {
            const data = vehicleData[vehicleType];
            selectedVehicleName.textContent = data.name;
            selectedVehicleDetails.textContent = data.details;
            selectedVehiclePrice.textContent = data.price;
            selectedVehicleCapacity.textContent = data.capacity;
            selectedVehicleTime.textContent = data.time;
            selectedVehicleInfo.classList.add('show');
            selectionNotice.classList.add('hidden');
            submitBtn.disabled = false;
            submitBtn.innerHTML = `
                <i class="fas fa-car"></i>
                <span>Request Ride</span>
            `;
        }

        vehicleCards.forEach(card => {
            card.addEventListener('click', () => {
                vehicleCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                const vehicleType = card.getAttribute('data-vehicle');
                updateSelectedVehicle(vehicleType);
            });
        });

        changeVehicleBtn.addEventListener('click', () => {
            selectedVehicleInfo.classList.remove('show');
            vehicleCards.forEach(card => card.classList.remove('selected'));
            submitBtn.disabled = true;
            submitBtn.innerHTML = `
                <i class="fas fa-car"></i>
                <span>Select Vehicle First</span>
            `;
            selectionNotice.classList.remove('hidden');
        });

        // Form Submission
        const rideForm = document.getElementById('ride-form');
        const formMessageContainer = document.getElementById('form-message-container');

        rideForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const pickupLocation = document.getElementById('pickup-location').value;
            const destination = document.getElementById('destination').value;
            const pickupTime = document.getElementById('date-picker').value;
            const selectedVehicle = document.querySelector('.vehicle-card.selected');

            if (!selectedVehicle) {
                selectionNotice.classList.remove('hidden');
                return;
            }

            if (!pickupLocation || !destination) {
                showToast('Please fill in both pickup location and destination.', 'error');
                return;
            }

            submitBtn.disabled = true;
            submitBtn.innerHTML = `
                <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <span>Processing...</span>
            `;

            setTimeout(() => {
                const vehicleType = selectedVehicle.getAttribute('data-vehicle');
                const timestamp = new Date().toISOString();
                const rideId = 'ride_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                
                // Calculate estimated fare (random for demo - testing prices)
                const distance = Math.floor(Math.random() * 15 + 8); // 8-22 km range
                const fare = (distance * fareRates[vehicleType]).toFixed(2);
                
                const rideDetails = {
                    id: rideId,
                    timestamp: timestamp,
                    status: 'requested',
                    archived: false,
                    pickup: pickupLocation,
                    destination: destination,
                    datetime: pickupTime || timestamp,
                    vehicleInfo: {
                        name: vehicleData[vehicleType].name,
                        fullName: vehicleData[vehicleType].name,
                        price: vehicleData[vehicleType].price,
                        capacity: 4,
                        time: '15 min'
                    },
                    fare: fare
                };
                
                try {
                    // Save to bookedRides for notification tracking
                    const booked = JSON.parse(localStorage.getItem('bookedRides') || '[]');
                    booked.unshift(rideDetails); // Add to start of array
                    localStorage.setItem('bookedRides', JSON.stringify(booked));

                    // Also save to bookings array for driver inbox
                    const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
                    const bookingForDriver = {
                        id: rideId,
                        pickup: pickupLocation,
                        destination: destination,
                        date: new Date(pickupTime || timestamp).toLocaleDateString(),
                        time: new Date(pickupTime || timestamp).toLocaleTimeString(),
                        type: vehicleData[vehicleType].name,
                        price: parseFloat(fare),
                        status: 'requested', // Will be updated to 'confirmed' after payment
                        timestamp: timestamp
                    };
                    bookings.unshift(bookingForDriver);
                    localStorage.setItem('bookings', JSON.stringify(bookings));

                    // Create driver notification for real-time updates
                    this.createDriverNotification(rideDetails, bookingForDriver);

                    // Trigger storage event for real-time sync
                    window.dispatchEvent(new StorageEvent('storage', {
                        key: 'bookedRides',
                        newValue: JSON.stringify(booked)
                    }));

                    // Save to rideNotifications for inbox (newest first, with required fields)
                    const notifications = JSON.parse(localStorage.getItem('rideNotifications') || '[]');
                    const notification = {
                        id: Date.now(),
                        timestamp: new Date().toISOString(),
                        status: 'requested',
                        pickup: rideDetails.pickup,
                        destination: rideDetails.destination,
                        vehicleInfo: rideDetails.vehicleInfo,
                        price: rideDetails.fare,
                        archived: false
                    };
                    notifications.unshift(notification); // Add to start for newest first
                    localStorage.setItem('rideNotifications', JSON.stringify(notifications));
                    
                    // Trigger a storage event for other tabs
                    window.dispatchEvent(new StorageEvent('storage', {
                        key: 'rideNotifications',
                        newValue: JSON.stringify(notifications)
                    }));
                } catch (e) { console.error('Error saving notifications:', e); }

                // Show PayPal payment modal
                showPayPalModal(fare);
                
                submitBtn.disabled = false;
                submitBtn.innerHTML = `
                    <i class="fas fa-car"></i>
                    <span>Request Ride</span>
                `;
                rideForm.reset();
                vehicleCards.forEach(card => card.classList.remove('selected'));
                selectedVehicleInfo.classList.remove('show');
                selectionNotice.classList.remove('hidden');
            }, 2000);
        });

        // Create Driver Notification Function
        function createDriverNotification(rideDetails, bookingForDriver) {
            console.log('Index.html: Creating notification for ride:', rideDetails);
            
            // Simply trigger storage event for bookings array
            window.dispatchEvent(new StorageEvent('storage', {
                key: 'bookings',
                newValue: localStorage.getItem('bookings')
            }));

            console.log('Index.html: Storage event triggered for bookings');
        }

        // Toast Notification
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 max-w-xs ${type === 'success' ? 'location-toast' : 'error-toast'}`;
            toast.innerHTML = `
                <div class="flex items-center gap-2">
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} text-lg"></i>
                    <span>${message}</span>
                </div>
            `;
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.classList.add('opacity-0');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // ===== REAL PAYPAL INTEGRATION =====
        
        // PayPal Modal Elements
        const paypalModal = document.getElementById('paypal-modal');
        const paypalCloseBtn = document.getElementById('paypal-close-btn');
        const paypalAmount = document.getElementById('paypal-amount');
        const paypalButtonContainer = document.getElementById('paypal-button-container');
        
        // Show PayPal Modal
        function showPayPalModal(amount) {
            paypalAmount.textContent = `$${amount}`;
            paypalModal.classList.remove('hidden');
            
            // Clear previous PayPal button
            paypalButtonContainer.innerHTML = '';
            
            // Render PayPal button
            renderPayPalButton(amount);
        }
        
        // Hide PayPal Modal
        function hidePayPalModal() {
            paypalModal.classList.add('hidden');
        }
        
        // Render PayPal Button
        function renderPayPalButton(amount) {
            if (typeof paypal !== 'undefined') {
                paypal.Buttons({
                    style: {
                        layout: 'vertical',
                        color: 'gold',
                        shape: 'rect',
                        label: 'paypal',
                        height: 50
                    },
                    createOrder: function(data, actions) {
                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: amount.toString(),
                                    currency_code: 'USD'
                                },
                                description: 'Luxride Taxi Service'
                            }]
                        });
                    },
                    onApprove: function(data, actions) {
                        return actions.order.capture().then(function(details) {
                            // Payment successful
                            console.log('Payment completed:', details);
                            
                            // Update ride status to confirmed
                            try {
                                const rideDetails = JSON.parse(localStorage.getItem('rideDetails') || '{}');
                                rideDetails.status = 'confirmed';
                                rideDetails.paymentMethod = 'paypal';
                                rideDetails.paypalTransactionId = details.id;
                                rideDetails.paypalPayerId = details.payer.payer_id;
                                localStorage.setItem('rideDetails', JSON.stringify(rideDetails));
                                
                                // Update in rideNotifications as well
                                const notifications = JSON.parse(localStorage.getItem('rideNotifications') || '[]');
                                if (notifications.length > 0) {
                                    notifications[0].status = 'confirmed';
                                    notifications[0].paymentMethod = 'paypal';
                                    notifications[0].paypalTransactionId = details.id;
                                    localStorage.setItem('rideNotifications', JSON.stringify(notifications));
                                }

                                // Update booking status in bookings array for driver inbox
                                const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
                                const bookingIndex = bookings.findIndex(b => b.id === rideDetails.id);
                                if (bookingIndex !== -1) {
                                    bookings[bookingIndex].status = 'confirmed';
                                    bookings[bookingIndex].paymentMethod = 'paypal';
                                    localStorage.setItem('bookings', JSON.stringify(bookings));
                                }
                                
                                // Trigger storage event for other tabs
                                window.dispatchEvent(new StorageEvent('storage', {
                                    key: 'rideNotifications',
                                    newValue: JSON.stringify(notifications)
                                }));
                                
                            } catch (e) { 
                                console.error('Error updating ride status:', e); 
                            }
                            
                            // Show success message
                            showToast('Payment successful! Your ride has been confirmed.', 'success');
                            
                            // Hide modal
                            hidePayPalModal();
                            
                            // Show ride confirmation
                            showRideConfirmation();
                        });
                    },
                    onError: function(err) {
                        console.error('PayPal error:', err);
                        showToast('Payment failed. Please try again.', 'error');
                    },
                    onCancel: function(data) {
                        console.log('Payment cancelled:', data);
                        showToast('Payment cancelled.', 'error');
                    }
                }).render('#paypal-button-container');
            } else {
                // Fallback if PayPal SDK is not loaded
                paypalButtonContainer.innerHTML = `
                    <div class="text-center p-4">
                        <p class="text-red-600 mb-4">PayPal SDK not loaded. Please check your internet connection.</p>
                        <button onclick="hidePayPalModal()" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                            Close
                        </button>
                    </div>
                `;
            }
        }
        
        // Event Listeners
        paypalCloseBtn.addEventListener('click', hidePayPalModal);
        
        // Close modal when clicking outside
        paypalModal.addEventListener('click', (e) => {
            if (e.target === paypalModal) {
                hidePayPalModal();
            }
        });

        
        
        
        
        // Parse JWT token (for Google)
        function parseJwt(token) {
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }
        
        // Update user interface after login
        function updateUserInterface(userData) {
            // Hide login buttons
            const loginButtons = document.querySelectorAll('.login-buttons');
            loginButtons.forEach(btn => btn.style.display = 'none');
            
            // Show user info
            const userInfo = document.querySelector('.user-info');
            if (userInfo) {
                userInfo.innerHTML = `
                    <div class="flex items-center gap-3">
                        <img src="${userData.picture || 'https://via.placeholder.com/40'}" alt="Profile" class="w-10 h-10 rounded-full">
                        <div>
                            <p class="font-semibold text-white">${userData.name}</p>
                            <p class="text-sm text-gray-300">${userData.email}</p>
                        </div>
                    </div>
                `;
                userInfo.style.display = 'block';
            }
        }
        

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is already logged in
            const userData = localStorage.getItem('userData');
            if (userData) {
                updateUserInterface(JSON.parse(userData));
            }
            
            // Check for "Book Again" route data
            const bookAgainRoute = localStorage.getItem('bookAgainRoute');
            if (bookAgainRoute) {
                const routeData = JSON.parse(bookAgainRoute);
                // Pre-fill the form with the route data
                const pickupInput = document.getElementById('pickup');
                const destinationInput = document.getElementById('destination');
                
                if (pickupInput && destinationInput) {
                    pickupInput.value = routeData.pickup;
                    destinationInput.value = routeData.destination;
                    
                    // Clear the stored route data
                    localStorage.removeItem('bookAgainRoute');
                    
                    // Show a toast notification
                    showToast('Route pre-filled from your favorites!', 'success');
                }
            }
        });


        // Ride Confirmation Notification
        function showRideConfirmation() {
            try {
                const rideDetails = JSON.parse(localStorage.getItem('rideDetails') || '{}');
                const notification = document.createElement('div');
                notification.className = 'ride-notification';
                notification.innerHTML = `
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-check-circle text-xl"></i>
                        <h4 class="font-bold text-lg">Ride Confirmed!</h4>
                    </div>
                    <div class="vehicle-highlight">${rideDetails.vehicleInfo?.fullName || 'Standard Sedan'}</div>
                    <div class="detail-row">
                        <span class="detail-label">Pickup:</span>
                        <span class="detail-value">${rideDetails.pickup || 'Your location'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Destination:</span>
                        <span class="detail-value">${rideDetails.destination || 'Your destination'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Time:</span>
                        <span class="detail-value">${rideDetails.datetime || 'Now'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Estimated Price:</span>
                        <span class="detail-value">$${rideDetails.fare || '25.00'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Payment:</span>
                        <span class="detail-value">Cash</span>
                    </div>
                `;
                formMessageContainer.appendChild(notification);
                setTimeout(() => {
                    notification.classList.add('opacity-0');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            } catch (e) {
                console.error('Error showing ride confirmation:', e);
            }
        }

        // Schedule Modal Logic
        const scheduleModal = document.getElementById('schedule-modal');
        const datePicker = document.getElementById('date-picker');
        const pickupOptions = document.querySelectorAll('.pickup-option');
        const datetimePicker = document.querySelector('.datetime-picker');
        const nextButton = document.querySelector('.next-button');

        datePicker.addEventListener('click', () => {
            scheduleModal.classList.remove('hidden');
        });

        pickupOptions.forEach(option => {
            option.addEventListener('click', () => {
                pickupOptions.forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                const optionValue = option.getAttribute('data-option');
                
                if (optionValue === 'later') {
                    datetimePicker.classList.remove('hidden');
                    nextButton.disabled = false;
                } else {
                    datetimePicker.classList.add('hidden');
                    nextButton.disabled = false;
                    datePicker.value = optionValue.charAt(0).toUpperCase() + optionValue.slice(1);
                    scheduleModal.classList.add('hidden');
                }
            });
        });

        nextButton.addEventListener('click', () => {
            const selectedOption = document.querySelector('.pickup-option.selected');
            if (selectedOption && selectedOption.getAttribute('data-option') === 'later') {
                const pickupDatetime = document.getElementById('pickup-datetime').value;
                if (pickupDatetime) {
                    datePicker.value = new Date(pickupDatetime).toLocaleString();
                    scheduleModal.classList.add('hidden');
                } else {
                    showToast('Please select a valid date and time.', 'error');
                }
            }
        });

        // New Navbar JavaScript
        function initNavbar() {
            const mobileToggle = document.getElementById('mobile-toggle');
            const mobileNav = document.getElementById('mobile-nav');
            const mobileClose = document.getElementById('mobile-close');
            const mobileOverlay = document.getElementById('mobile-overlay');

            // Check if elements exist
            if (!mobileToggle || !mobileNav || !mobileClose || !mobileOverlay) {
                console.error('Navbar elements not found:', {
                    toggle: !!mobileToggle,
                    nav: !!mobileNav,
                    close: !!mobileClose,
                    overlay: !!mobileOverlay
                });
                return;
            }

            // Toggle mobile menu
            mobileToggle.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                console.log('Mobile menu toggle clicked');
                openMobileMenu();
            });

            // Close mobile menu
            mobileClose.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                console.log('Mobile menu close clicked');
                closeMobileMenu();
            });

            // Close on overlay click
            mobileOverlay.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                console.log('Mobile overlay clicked');
                closeMobileMenu();
            });

            // Close on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                    closeMobileMenu();
                }
            });

            // Close on nav item click
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.addEventListener('click', () => {
                    closeMobileMenu();
                });
            });

            function openMobileMenu() {
                mobileNav.classList.add('active');
                mobileOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeMobileMenu() {
                mobileNav.classList.remove('active');
                mobileOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }

            console.log('Navbar initialized successfully');
        }

        // Initialize navbar when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initNavbar();
        });

        // Cancel Ride Button
        const cancelRideBtn = document.getElementById('cancel-ride-btn');
        cancelRideBtn.addEventListener('click', () => {
            showToast('Ride cancelled successfully.', 'success');
            rideForm.reset();
            vehicleCards.forEach(card => card.classList.remove('selected'));
            selectedVehicleInfo.classList.remove('show');
            selectionNotice.classList.remove('hidden');
            submitBtn.disabled = true;
            submitBtn.innerHTML = `
                <i class="fas fa-car"></i>
                <span>Select Vehicle First</span>
            `;
        });

        // Ratings & Feedback
        const starRating = document.getElementById('star-rating');
        const feedbackInput = document.getElementById('feedback');
        const submitFeedbackBtn = document.getElementById('submit-feedback');
        const feedbackResult = document.getElementById('feedback-result');
        let selectedStars = 0;
        starRating.querySelectorAll('i').forEach(star => {
            star.addEventListener('click', () => {
                selectedStars = parseInt(star.getAttribute('data-value'));
                starRating.querySelectorAll('i').forEach((s, idx) => {
                    s.classList.toggle('text-[#d4af37]', idx < selectedStars);
                    s.classList.toggle('text-gray-300', idx >= selectedStars);
                });
            });
        });
        submitFeedbackBtn.addEventListener('click', () => {
            if (selectedStars === 0) {
                feedbackResult.textContent = 'Please select a rating.';
                feedbackResult.classList.remove('text-green-600');
                feedbackResult.classList.add('text-red-600');
                return;
            }
            feedbackResult.textContent = 'Thank you for your feedback!';
            feedbackResult.classList.remove('text-red-600');
            feedbackResult.classList.add('text-green-600');
            feedbackInput.value = '';
            setTimeout(() => feedbackResult.textContent = '', 3000);
        });

        // Listen for changes in bookedRides
        window.addEventListener('storage', (e) => {
            if (e.key === 'bookedRides') {
                showToast('New ride booked!', 'success');
            }
        });

        // Event delegation for dynamically created notification action buttons
        document.addEventListener('click', (e) => {
            const viewBtn = e.target.closest('.btn-view');
            if (viewBtn) {
                // Redirect to inbox page (view full message/ride)
                window.location.href = 'inbox.html';
                return;
            }

            const dismissBtn = e.target.closest('.btn-dismiss');
            if (dismissBtn) {
                const notif = dismissBtn.closest('.inbox-notification');
                if (notif) notif.remove();
                return;
            }
        });

        // Ensure mobile menu links close the mobile menu when clicked
        document.querySelectorAll('#mobile-menu nav a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                mobileMenuBackdrop.classList.remove('active');
            });
        });
    </script>
    
    <!-- Global Error Handler for Better UX -->
    <script>
        // Global error handler to prevent navigation issues
        window.addEventListener('error', function(e) {
            console.warn('JavaScript error caught and handled:', e.error);
            // Don't let errors break the page
            return true;
        });
        
        // Ensure navigation works even if there are minor errors
        document.addEventListener('DOMContentLoaded', function() {
            // Add click handlers for all navigation links
            const navLinks = document.querySelectorAll('a[href$=".html"]');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // Allow normal navigation
                    console.log('Navigating to:', this.href);
                });
            });
        });
    </script>
</body>
</html>